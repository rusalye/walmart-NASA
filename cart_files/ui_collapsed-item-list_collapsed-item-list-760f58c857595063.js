"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4386],{482709:function(e,n,t){t.d(n,{G:function(){return D}});var i={};t.r(i),t.d(i,{itemCount:function(){return I},manageNow:function(){return V},moreItemCount:function(){return O},oneTimePurchaseItemCount:function(){return L},quantityCount:function(){return C},subscription:function(){return j},subscriptionDiscount:function(){return M},subscriptionItemCount:function(){return S},subscriptionManageCalloutText:function(){return A},subscriptionSavingsEligible:function(){return k}});var l=t(247687),r=t(702802),a=t(689221),d=t(194131),o=t(217091),s=t(283714),c=t(512142),u=t(496511),m=t(147507),x=t(178567),p=t(530090),y=t(22769),f=t(329359),w=t(820038),g=t(865936),h=t(324523),b=t.n(h),v=t(969538),N=t(491288),E=t(626051);const I=e=>e.count+" "+E.Ho(e.count,0,N.en,{"1":"item",other:"items"}),L=e=>"One-time purchase ("+e.count+" "+E.Ho(e.count,0,N.en,{"1":"item",other:"items"})+")",S=e=>"Subscription ("+e.count+" "+E.Ho(e.count,0,N.en,{"1":"item",other:"items"})+")",V=()=>"Manage now",j=()=>"subscription",A=()=>"It's easy to edit, skip or cancel subscriptions anytime.",C=e=>"quantity "+e.count,O=e=>E.Ho(e.count,0,N.en,{"0":"","1":"1 more item",other:E.Rx("en-US",e.count,0)+" more items"}),M=()=>"savings",k=()=>"*savings apply to eligible items only";var B=t(694137);const P=e=>{let{subscriptionData:n,itemCount:t,subscriptionBasketDiscounts:r}=e;const{hasSubscription:d,shouldShowEligibilityMessage:o,shouldShowSubscriptionDiscount:s,subscriptionItemizedSavings:c}=n,u=(0,a.m)(i,d?"subscriptionItemCount":"oneTimePurchaseItemCount",{count:t});return(0,l.jsxs)(l.Fragment,{children:[d&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(y.J,{className:"color-gray-130",name:"Subscription",size:"small","aria-hidden":"true"}),"\xA0"]}),(0,l.jsx)("span",{children:u}),s&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{className:"ml2","data-testid":"subscription-discount-tag",children:(0,l.jsx)(B.V,{color:"green",variant:"tertiary",children:(0,l.jsx)("span",{className:"f5 b",children:"".concat(null===c||void 0===c?void 0:c.additionalDisplayValue," ").concat((0,a.m)(i,"subscriptionDiscount"))})})}),o&&(0,l.jsx)("div",{className:"f6 ml2","data-testid":"subscription-savings-message",children:(0,a.m)(i,"subscriptionSavingsEligible")})]}),r]})},F=6,U=e=>{let{item:n,size:t,className:i,orderDetailsHref:r,isACCInstallItem:a,shouldAnimate:d}=e;var o;const{router:c}=(0,s.tv)(),u="".concat(n.imageAlt||"").concat(n.quantity>2&&!(null===(o=n.imageAlt)||void 0===o?void 0:o.includes("quantity"))?", quantity ".concat(n.quantity):"").concat(n.icons||a?" with addon services":""),m=String(Math.max("object"===typeof t?t.width:Number(t),Number("48")));return(0,l.jsx)(f.Z,{className:b()(i,{"fade-in":d}),alt:u||"product",preload:!1,src:(0,w.P)({src:n.image,height:m,width:m}),height:"object"===typeof t?t.height:t,width:"object"===typeof t?t.width:t,...(r?{onClick:()=>c.push(r)}:{})})},_=e=>{let{quantity:n,style:t}=e;return(0,l.jsx)(g.C,{UNSAFE_className:"absolute",UNSAFE_style:t,"aria-hidden":!0,color:"white",children:n})},q=e=>{let{style:n}=e;return(0,l.jsx)(g.C,{color:"white",UNSAFE_className:"shadow-none absolute",UNSAFE_style:n,"aria-hidden":!0,children:(0,l.jsx)(y.J,{size:"small",name:"Warning","aria-hidden":!0})})},D=e=>{let{items:n,multiLine:t=!1,className:w,showItemCount:g=!0,itemCount:h,showIconsInThumbnail:N=!1,orderDetailsHref:E,enableQueueing:I=!1,isACCInstallItem:L=!1,isDesktopCart:S,thumbnailSizeOverride:V,isUnavailable:j=!1,AtcAndBuyNowWrapper:A,defaultItemsCount:C=F,animateImages:O=!1,isFFModuleEnabledOnCart:M=!1,hideWrenchIcon:k=!1,isSubscription:B=!1,itemsListStyles:D,isMajorAppliance:W,applianceServiceInfo:T,showCategoryAccordions:z,showTYPSubscriptionMessaging:R,pageName:G,context:X,subscriptionBasketDiscounts:H,itemListId:J,showItemListLevelAria:Z,isSamsClubMembershipItem:Q,customThumbnailIconComponent:Y,itemizedSavings:K=[]}=e;var $,ee,ne;const{0:te,1:ie}=(0,v.useState)([]),{0:le,1:re}=(0,v.useState)(0),{0:ae,1:de}=(0,v.useState)(""),oe=(0,v.useRef)(null),{isMobile:se}=(0,d.vP)(),ce=null===Y||void 0===Y?void 0:Y.show,ue=null===Y||void 0===Y?void 0:Y.component,me=v.createRef(),xe=((e,n)=>n||(e?"40":"48"))(se,V),pe=+xe+16,ye=n.length,fe=h||ye,we=fe&&pe,ge=se?15:24,he=I&&n.some(e=>{let{showExpirationTimer:n,expiresAt:t}=e;return n&&t}),be=function(e,n){const{0:t,1:i}=(0,v.useState)(!1),l=(0,v.useRef)(n.length);return(0,v.useEffect)(()=>{i(l.current<n.length),l.current=n.length},[n]),n=>e&&t&&0===n}(O,n);(0,v.useEffect)(()=>{var e;const l=(null===(e=me.current)||void 0===e?void 0:e.clientWidth)||0;let r=Math.floor(l/pe)||C,d=0;if(t&&(r*=3),r>ye)r=ye;else{const e=l-r*pe>28;d=ye-r,!d||!t&&e||(r--,d++)}ie(n.slice(0,r)),re(d);let o=n.slice(0,r).map(e=>"".concat(e.imageAlt,", ").concat((0,a.m)(i,"quantityCount",{count:e.quantity}))).join(", ");o+=0===d?"":", +".concat((0,a.m)(i,"moreItemCount",{count:d})),de(o)},[n,me.current,pe]);const ve=te.some(e=>!!e.icons),Ne={top:"-8px",right:"88"===V?"11px":"-8px"},Ee={co:{ov:"manageSubscriptionTooltip"}},{router:Ie}=(0,s.tv)(),Le=(0,r.iC)(c.YL),Se=String(null===Le||void 0===Le||null===($=Le.shared)||void 0===$||null===(ee=$.values)||void 0===ee?void 0:ee.subscriptionManagePageUrl),Ve=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=arguments.length>2?arguments[2]:void 0;const i="thankYouPage"!==(t||"");return(0,v.useMemo)(()=>{const t=null===n||void 0===n?void 0:n.find(e=>"SUBSCRIPTION_DISCOUNT"===(null===e||void 0===e?void 0:e.key)),l=e.reduce((e,n)=>{var t,i;(null===n||void 0===n||null===(t=n.subscription)||void 0===t?void 0:t.isSelected)&&(e.subscriptionItems.push(n),(null===n||void 0===n||null===(i=n.discounts)||void 0===i?void 0:i.some(e=>"SUBSCRIPTION_DISCOUNT"===(null===e||void 0===e?void 0:e.discountKey)))&&e.itemsWithDiscount.push(n));return e},{subscriptionItems:[],itemsWithDiscount:[]});return{...l,hasSubscription:l.subscriptionItems.length>0,shouldShowEligibilityMessage:l.itemsWithDiscount.length>0&&l.itemsWithDiscount.length<l.subscriptionItems.length&&i,shouldShowSubscriptionDiscount:l.itemsWithDiscount.length>0&&!!t,subscriptionItemizedSavings:t}},[e,n,t])}(n,K,G);const je=e=>(null===Q||void 0===Q?void 0:Q(e))?{width:se?40:48,height:se?27:32}:xe;return(0,l.jsxs)("div",{className:w,ref:me,"data-testid":"collapsedItemList",children:[g&&!S&&(0,l.jsxs)("div",{className:b()("gray mb3 flex justify-between",{f6:se,f5:!se}),children:[(0,l.jsx)("span",{className:H?"w-100":"",children:B?P({subscriptionData:Ve,itemCount:fe,subscriptionBasketDiscounts:H}):(0,a.m)(i,"itemCount",{count:fe})}),B&&R&&X&&(0,l.jsx)(o.tp,{context:X,action:"overlayView",name:"manageSubscriptionTooltip",payload:{pg:{nm:G},...Ee},children:(0,l.jsx)(x.ZP,{a11yContentLabel:"".concat((0,a.m)(i,"manageNow"),", ").concat((0,a.m)(i,"subscription")),content:(0,a.m)(i,"subscriptionManageCalloutText"),id:"subscription_manage_callout",position:"topLeft",targetRef:oe,isCalloutOnDialog:!0,onCloseName:"close",overlayName:"manageSubscriptionTooltip",overlayExtras:Ee,onCloseExtras:{li:{nm:"close"},...Ee},children:(0,l.jsx)("div",{ref:oe,children:(0,l.jsx)(m.Z,{className:"black flex flex-column items-center",variant:"tertiary",onClick:()=>{Ie.push(Se)},onLinkName:"manageSubscriptionNow",onLinkExtras:{pg:{nm:G},li:{nm:"manageSubscriptionNow"}},children:(0,a.m)(i,"manageNow")})})})})]}),(0,l.jsxs)("ul",{className:b()("flex list ma0 pa0",t&&"flex-wrap"),style:{minHeight:"".concat(we,"px"),...D},...(Z?{id:J,"aria-label":ae}:{}),children:[te.map((e,n)=>{var t;return(0,l.jsxs)("li",{className:b()("relative","72"===V?"mr2":"mr3"),children:[(0,l.jsx)("div",{style:!he||e.expiresAt&&e.showExpirationTimer?{}:{paddingTop:"".concat(ge,"px")}}),he&&e.expiresAt&&e.showExpirationTimer&&(0,l.jsx)(p.w,{endTime:new Date(e.expiresAt),ticketState:"valid",showClockIcon:!1,size:se?"small":"default"}),N&&(null===(t=e.icons)||void 0===t?void 0:t.length)?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:b()("88"===V&&"ph3"),children:(0,l.jsxs)("div",{className:b()("ba b--black-10 br2 pa1"),children:[(0,l.jsx)(U,{item:e,size:xe,orderDetailsHref:E,isACCInstallItem:L}),e.isWarning?(0,l.jsx)(q,{style:Ne}):e.quantity>1&&!e.shouldHideQuantityBadge&&(0,l.jsx)(_,{quantity:e.quantity,style:Ne}),L&&!k&&(0,l.jsx)("div",{className:"mt1 tc",children:(0,l.jsx)(y.J,{name:"Installation","data-testid":"wrench-icon"})}),(0,l.jsx)("div",{className:"flex justify-around black",children:e.icons.map((e,n)=>ce?(0,l.jsx)(ue,{thumbnailIcon:e},e):(0,u.K)(e)&&e.src?(0,l.jsx)(f.Z,{"data-testid":"image-icon",src:e.src,height:e.height,width:e.width,preload:e.preload,alt:e.alt,className:e.className},n):"string"===typeof e?(0,l.jsx)(y.J,{name:e,"data-testid":"icon"},n):null)})]})}),!!A&&(0,l.jsx)(A,{item:e})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:b()("88"===V?"ph3":"","flex flex-row items-center justify-center h-100"),"data-sensitivity":e.isPharmacyPrescription?"severe":"",children:[(0,l.jsx)(U,{item:e,size:je(e),orderDetailsHref:E,className:b()({"o-30":j}),isACCInstallItem:L,shouldAnimate:be(n)}),e.isWarning?(0,l.jsx)(q,{style:Ne}):e.quantity>1&&!e.shouldHideQuantityBadge&&(0,l.jsx)(_,{quantity:e.quantity,style:Ne}),L&&!k&&(0,l.jsx)("div",{className:"mt1 tc",children:(0,l.jsx)(y.J,{name:"Installation","data-testid":"wrench-icon"})})]}),!!A&&(0,l.jsx)("div",{style:{paddingTop:ve&&!L?"26px":"4px"},children:(0,l.jsx)(A,{item:e})})]})]},e.id||n)}),le>0&&(0,l.jsx)("li",{className:b()("dark-gray b ph1",M?"self-baselane mt2":"self-center mt3"),children:"+".concat(le)})]}),W&&T&&!z&&(0,l.jsxs)("div",{className:"flex flex-column w-100",children:[(0,l.jsx)("div",{className:"flex flex-row f5 b dark-gray pb3 pb3-m",children:null===T||void 0===T?void 0:T.title}),null===T||void 0===T||null===(ne=T.optedServices)||void 0===ne?void 0:ne.map((e,n)=>(0,l.jsxs)("div",{className:"flex flex-row justify-between f5 pb3 dark-gray",children:["".concat(e.label),(0,l.jsx)("div",{children:e.displayPrice})]},n))]})]})}}}]);